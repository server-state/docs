"use strict";(self.webpackChunk_server_state_docs=self.webpackChunk_server_state_docs||[]).push([[346],{729:function(t,e,l){l.r(e),l.d(e,{frontMatter:function(){return s},contentTitle:function(){return o},metadata:function(){return u},toc:function(){return d},default:function(){return p}});var n=l(7462),r=l(3366),a=(l(7294),l(3905)),i=["components"],s={title:"GraphQL Base Schema",description:"The base GraphQL schema that all Server State Servers have to comply with",sidebar_position:1},o=void 0,u={unversionedId:"references/graphql-base-schema",id:"references/graphql-base-schema",isDocsHomePage:!1,title:"GraphQL Base Schema",description:"The base GraphQL schema that all Server State Servers have to comply with",source:"@site/develop/references/graphql-base-schema.md",sourceDirName:"references",slug:"/references/graphql-base-schema",permalink:"/develop/references/graphql-base-schema",editUrl:"https://github.com/server-state/docs/edit/main/develop/references/graphql-base-schema.md",tags:[],version:"current",lastUpdatedBy:"Pablo Klaschka",lastUpdatedAt:1632268073,formattedLastUpdatedAt:"9/21/2021",sidebarPosition:1,frontMatter:{title:"GraphQL Base Schema",description:"The base GraphQL schema that all Server State Servers have to comply with",sidebar_position:1},sidebar:"sidebar",previous:{title:"Technical Overview",permalink:"/develop/introduction/overview"},next:{title:"Pub/Sub Addresses",permalink:"/develop/references/extension-development/pubsub-addresses"}},d=[{value:"Query",id:"query",children:[]},{value:"Mutation",id:"mutation",children:[]},{value:"Objects",id:"objects",children:[{value:"AddUserResponse",id:"adduserresponse",children:[]},{value:"EditUserResponse",id:"edituserresponse",children:[]},{value:"LoginResponse",id:"loginresponse",children:[]},{value:"RemoveUserResponse",id:"removeuserresponse",children:[]},{value:"ServerState",id:"serverstate",children:[]},{value:"User",id:"user",children:[]}]},{value:"Inputs",id:"inputs",children:[{value:"AddUserInput",id:"adduserinput",children:[]},{value:"EditUserInput",id:"edituserinput",children:[]}]},{value:"Enums",id:"enums",children:[{value:"UserRole",id:"userrole",children:[]}]},{value:"Scalars",id:"scalars",children:[{value:"Boolean",id:"boolean",children:[]},{value:"ID",id:"id",children:[]},{value:"JSON",id:"json",children:[]},{value:"String",id:"string",children:[]}]}],k={toc:d};function p(t){var e=t.components,l=(0,r.Z)(t,i);return(0,a.kt)("wrapper",(0,n.Z)({},k,l,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Server State makes heavy use of an extensible GraphQL API."),(0,a.kt)("p",null,"While the complete schema depends on the extensions installed by the user, the\nfollowing schema provides the base for every such schema. It can, thus, be\ntrusted to exist during plugin/extension development."),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"Generated using\n",(0,a.kt)("a",{parentName:"em",href:"https://github.com/exogen/graphql-markdown"},(0,a.kt)("inlineCode",{parentName:"a"},"graphql-markdown")))),(0,a.kt)("h2",{id:"query"},"Query"),(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",{align:"left"},"Field"),(0,a.kt)("th",{align:"right"},"Argument"),(0,a.kt)("th",{align:"left"},"Type"),(0,a.kt)("th",{align:"left"},"Description"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",valign:"top"},(0,a.kt)("strong",null,"serverState")),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#serverstate"},"ServerState"),"!"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The APIs for inspecting the server state."),(0,a.kt)("p",null,"This is the core of the Server State ecosystem and what most plugins will\ninteract with."))),(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",valign:"top"},(0,a.kt)("strong",null,"me")),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#user"},"User")),(0,a.kt)("td",null,(0,a.kt)("p",null,"The currently authenticated user, if any"))),(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",valign:"top"},(0,a.kt)("strong",null,"users")),(0,a.kt)("td",{valign:"top"},"[",(0,a.kt)("a",{href:"#user"},"User"),"!]!"),(0,a.kt)("td",null,(0,a.kt)("p",null,"List of all users."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Accessible for admins only.")))),(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",valign:"top"},(0,a.kt)("strong",null,"userById")),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#user"},"User")),(0,a.kt)("td",null,(0,a.kt)("p",null,"Get user details based on their user id."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Accessible for admins only.")))),(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",align:"right",valign:"top"},"id"),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#id"},"ID"),"!"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The user's ID"))),(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",valign:"top"},(0,a.kt)("strong",null,"userByEmail")),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#user"},"User")),(0,a.kt)("td",null,(0,a.kt)("p",null,"Get user details based on their email address."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Accessible for admins only.")))),(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",align:"right",valign:"top"},"email"),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#string"},"String"),"!"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The user's email address"))))),(0,a.kt)("h2",{id:"mutation"},"Mutation"),(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",{align:"left"},"Field"),(0,a.kt)("th",{align:"right"},"Argument"),(0,a.kt)("th",{align:"left"},"Type"),(0,a.kt)("th",{align:"left"},"Description"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",valign:"top"},(0,a.kt)("strong",null,"login")),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#loginresponse"},"LoginResponse"),"!"),(0,a.kt)("td",null,(0,a.kt)("p",null,"A mutation to login using email and password and get a JWT token for\nauthentication."))),(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",align:"right",valign:"top"},"email"),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#string"},"String"),"!"),(0,a.kt)("td",null)),(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",align:"right",valign:"top"},"password"),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#string"},"String"),"!"),(0,a.kt)("td",null)),(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",valign:"top"},(0,a.kt)("strong",null,"addUser")),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#adduserresponse"},"AddUserResponse"),"!"),(0,a.kt)("td",null,(0,a.kt)("p",null,"Adds a new user."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Accessible for admins only.")))),(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",align:"right",valign:"top"},"user"),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#adduserinput"},"AddUserInput"),"!"),(0,a.kt)("td",null)),(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",valign:"top"},(0,a.kt)("strong",null,"removeUser")),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#removeuserresponse"},"RemoveUserResponse"),"!"),(0,a.kt)("td",null,(0,a.kt)("p",null,"Removes a user."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Accessible for admins only.")))),(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",align:"right",valign:"top"},"id"),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#id"},"ID"),"!"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The user's user id"))),(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",valign:"top"},(0,a.kt)("strong",null,"editUser")),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#edituserresponse"},"EditUserResponse"),"!"),(0,a.kt)("td",null,(0,a.kt)("p",null,"Edits an existing user."),(0,a.kt)("p",null,"Specify the user you want to edit in the ",(0,a.kt)("inlineCode",{parentName:"p"},"userEdits")," input's ",(0,a.kt)("inlineCode",{parentName:"p"},"id")," field."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Accessible for admins only.")))),(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",align:"right",valign:"top"},"user"),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#edituserinput"},"EditUserInput"),"!"),(0,a.kt)("td",null)))),(0,a.kt)("h2",{id:"objects"},"Objects"),(0,a.kt)("h3",{id:"adduserresponse"},"AddUserResponse"),(0,a.kt)("p",null,"The data returned by the ",(0,a.kt)("inlineCode",{parentName:"p"},"addUser")," mutation."),(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",{align:"left"},"Field"),(0,a.kt)("th",{align:"right"},"Argument"),(0,a.kt)("th",{align:"left"},"Type"),(0,a.kt)("th",{align:"left"},"Description"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",valign:"top"},(0,a.kt)("strong",null,"user")),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#user"},"User"),"!"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The newly created user."))))),(0,a.kt)("h3",{id:"edituserresponse"},"EditUserResponse"),(0,a.kt)("p",null,"The data returned by the ",(0,a.kt)("inlineCode",{parentName:"p"},"editUser")," mutation."),(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",{align:"left"},"Field"),(0,a.kt)("th",{align:"right"},"Argument"),(0,a.kt)("th",{align:"left"},"Type"),(0,a.kt)("th",{align:"left"},"Description"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",valign:"top"},(0,a.kt)("strong",null,"user")),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#user"},"User"),"!"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The newly saved user details."))))),(0,a.kt)("h3",{id:"loginresponse"},"LoginResponse"),(0,a.kt)("p",null,"The data returned by the ",(0,a.kt)("inlineCode",{parentName:"p"},"login")," mutation."),(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",{align:"left"},"Field"),(0,a.kt)("th",{align:"right"},"Argument"),(0,a.kt)("th",{align:"left"},"Type"),(0,a.kt)("th",{align:"left"},"Description"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",valign:"top"},(0,a.kt)("strong",null,"token")),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#string"},"String"),"!"),(0,a.kt)("td",null,(0,a.kt)("p",null,"A JWT token for authentication."),(0,a.kt)("p",null,"Use the header ",(0,a.kt)("inlineCode",{parentName:"p"},"Authorization: Bearer [token]")," in later API interactions."))),(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",valign:"top"},(0,a.kt)("strong",null,"me")),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#user"},"User"),"!"),(0,a.kt)("td",null,(0,a.kt)("p",null,"Details about the authenticated user."))))),(0,a.kt)("h3",{id:"removeuserresponse"},"RemoveUserResponse"),(0,a.kt)("p",null,"The data returned by the ",(0,a.kt)("inlineCode",{parentName:"p"},"removeUser")," mutation."),(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",{align:"left"},"Field"),(0,a.kt)("th",{align:"right"},"Argument"),(0,a.kt)("th",{align:"left"},"Type"),(0,a.kt)("th",{align:"left"},"Description"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",valign:"top"},(0,a.kt)("strong",null,"success")),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#boolean"},"Boolean"),"!"),(0,a.kt)("td",null,(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"true")," if deletion was successful, ",(0,a.kt)("inlineCode",{parentName:"p"},"false")," otherwise."))))),(0,a.kt)("h3",{id:"serverstate"},"ServerState"),(0,a.kt)("p",null,"The ServerState type that represents every query about the server state."),(0,a.kt)("p",null,'Extensions may extend this type with a property identical to their own ID to add\nadditional "query-able" parameters.'),(0,a.kt)("p",null,"For example (with a plugin id of ",(0,a.kt)("inlineCode",{parentName:"p"},"ABCDEF"),"):"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-graphql"},"extend type ServerState {\n    ABCDEF: ABCDEF_State\n}\n\ntype ABCDEF_State {\n    randomNumber: Int\n}\n")),(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",{align:"left"},"Field"),(0,a.kt)("th",{align:"right"},"Argument"),(0,a.kt)("th",{align:"left"},"Type"),(0,a.kt)("th",{align:"left"},"Description"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",valign:"top"},(0,a.kt)("strong",null,"timestamp")),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#string"},"String")),(0,a.kt)("td",null,(0,a.kt)("p",null,"The timestamp of the query's execution"))))),(0,a.kt)("h3",{id:"user"},"User"),(0,a.kt)("p",null,"An object representing a single user"),(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",{align:"left"},"Field"),(0,a.kt)("th",{align:"right"},"Argument"),(0,a.kt)("th",{align:"left"},"Type"),(0,a.kt)("th",{align:"left"},"Description"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",valign:"top"},(0,a.kt)("strong",null,"id")),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#id"},"ID"),"!"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The user's unique ID"))),(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",valign:"top"},(0,a.kt)("strong",null,"email")),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#string"},"String"),"!"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The user's email address"))),(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",valign:"top"},(0,a.kt)("strong",null,"role")),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#userrole"},"UserRole")),(0,a.kt)("td",null,(0,a.kt)("p",null,"The user's role within the system"))))),(0,a.kt)("h2",{id:"inputs"},"Inputs"),(0,a.kt)("h3",{id:"adduserinput"},"AddUserInput"),(0,a.kt)("p",null,"Input for the ",(0,a.kt)("inlineCode",{parentName:"p"},"addUser")," mutation"),(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",{colspan:"2",align:"left"},"Field"),(0,a.kt)("th",{align:"left"},"Type"),(0,a.kt)("th",{align:"left"},"Description"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",valign:"top"},(0,a.kt)("strong",null,"email")),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#string"},"String"),"!"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The user's email address."))),(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",valign:"top"},(0,a.kt)("strong",null,"password")),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#string"},"String")),(0,a.kt)("td",null,(0,a.kt)("p",null,"The new user's password."),(0,a.kt)("p",null,"If not specified, the new user won't be able to login until the password gets\nreset."))),(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",valign:"top"},(0,a.kt)("strong",null,"role")),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#userrole"},"UserRole")),(0,a.kt)("td",null,(0,a.kt)("p",null,"The new user's role. Defaults to ",(0,a.kt)("inlineCode",{parentName:"p"},"user"),"."))))),(0,a.kt)("h3",{id:"edituserinput"},"EditUserInput"),(0,a.kt)("p",null,"Input for the ",(0,a.kt)("inlineCode",{parentName:"p"},"editUser")," mutation"),(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("tr",null,(0,a.kt)("th",{colspan:"2",align:"left"},"Field"),(0,a.kt)("th",{align:"left"},"Type"),(0,a.kt)("th",{align:"left"},"Description"))),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",valign:"top"},(0,a.kt)("strong",null,"id")),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#id"},"ID"),"!"),(0,a.kt)("td",null,(0,a.kt)("p",null,"The (existing !) user id."))),(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",valign:"top"},(0,a.kt)("strong",null,"email")),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#string"},"String")),(0,a.kt)("td",null,(0,a.kt)("p",null,"A new email address, if applicable."))),(0,a.kt)("tr",null,(0,a.kt)("td",{colspan:"2",valign:"top"},(0,a.kt)("strong",null,"role")),(0,a.kt)("td",{valign:"top"},(0,a.kt)("a",{href:"#userrole"},"UserRole")),(0,a.kt)("td",null,(0,a.kt)("p",null,"A new user role, if applicable."))))),(0,a.kt)("h2",{id:"enums"},"Enums"),(0,a.kt)("h3",{id:"userrole"},"UserRole"),(0,a.kt)("p",null,"A user's role. This defines the user's privileges within the system."),(0,a.kt)("table",null,(0,a.kt)("thead",null,(0,a.kt)("th",{align:"left"},"Value"),(0,a.kt)("th",{align:"left"},"Description")),(0,a.kt)("tbody",null,(0,a.kt)("tr",null,(0,a.kt)("td",{valign:"top"},(0,a.kt)("strong",null,"admin")),(0,a.kt)("td",null,(0,a.kt)("p",null,"An admin user with additional privileges (like managing other user accounts and\ninstalling extensions)"))),(0,a.kt)("tr",null,(0,a.kt)("td",{valign:"top"},(0,a.kt)("strong",null,"user")),(0,a.kt)("td",null,(0,a.kt)("p",null,'A "normal" user without any special privileges'))))),(0,a.kt)("h2",{id:"scalars"},"Scalars"),(0,a.kt)("h3",{id:"boolean"},"Boolean"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"Boolean")," scalar type represents ",(0,a.kt)("inlineCode",{parentName:"p"},"true")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,a.kt)("h3",{id:"id"},"ID"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"ID")," scalar type represents a unique identifier, often used to refetch an\nobject or as key for a cache. The ID type appears in a JSON response as a\nString; however, it is not intended to be human-readable. When expected as an\ninput type, any string (such as ",(0,a.kt)("inlineCode",{parentName:"p"},'"4"'),") or integer (such as ",(0,a.kt)("inlineCode",{parentName:"p"},"4"),") input value will\nbe accepted as an ID."),(0,a.kt)("h3",{id:"json"},"JSON"),(0,a.kt)("p",null,"A ",(0,a.kt)("inlineCode",{parentName:"p"},"JSONSerializable")," value represented as its serialized JSON string."),(0,a.kt)("h3",{id:"string"},"String"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"String")," scalar type represents textual data, represented as UTF-8 character\nsequences. The String type is most often used by GraphQL to represent free-form\nhuman-readable text."))}p.isMDXComponent=!0}}]);